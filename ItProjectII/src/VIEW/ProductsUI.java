/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package VIEW;

import BEANS.Product;
import CONTROLLERS.ProductController;
import static VIEW.Main.host;
import static VIEW.Main.uName;
import static VIEW.Main.uPass;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.ButtonGroup;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Belthazod
 */
public class ProductsUI extends javax.swing.JPanel {
    ProductController productController;
    /**
     * Creates new form AddProduct
     */
    public ProductsUI() {
        initComponents();
        productController = new ProductController(adminProductsTable);
        
        
        categoryTable.getColumnModel().getColumn(0).setMaxWidth(0);
        categoryTable.getColumnModel().getColumn(0).setMinWidth(0);
        categoryTable.getColumnModel().getColumn(0).setPreferredWidth(0);

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        editProductDialog = new javax.swing.JDialog();
        jLabel8 = new javax.swing.JLabel();
        productNameEditInput = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        categoryEditComboBox = new javax.swing.JComboBox();
        jLabel10 = new javax.swing.JLabel();
        descriptionEditInput = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        supplierEditComboBox = new javax.swing.JComboBox();
        jLabel12 = new javax.swing.JLabel();
        unitEditInput = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        quantityEditInput = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jSpinner1 = new javax.swing.JSpinner();
        jButton1 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        productIDEditInput = new javax.swing.JLabel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        productNameInput = new javax.swing.JTextField();
        productDescriptionInput = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        quantityInput = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        unitInput = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        categoryComboBox = new javax.swing.JComboBox();
        jLabel7 = new javax.swing.JLabel();
        AddProductButton = new javax.swing.JButton();
        supplierComboBox = new javax.swing.JComboBox();
        filler1 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 32767));
        reorderQuantityLevelSpinner = new javax.swing.JSpinner();
        reorderLevelEnableRadioButton = new javax.swing.JRadioButton();
        reorderLevelDisableRadioButton = new javax.swing.JRadioButton();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        adminProductsTable = new javax.swing.JTable();
        editProductButton = new javax.swing.JButton();
        deleteProductButton = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        categoryTable = new javax.swing.JTable();
        jLabel14 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        categoryNameInput = new javax.swing.JTextField();
        jButton2 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jButton5 = new javax.swing.JButton();

        editProductDialog.setBounds(new java.awt.Rectangle(0, 0, 600, 500));
        editProductDialog.getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel8.setText("Product Name: ");
        editProductDialog.getContentPane().add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 20, 80, 20));

        productNameEditInput.setText("jTextField1");
        productNameEditInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                productNameEditInputActionPerformed(evt);
            }
        });
        editProductDialog.getContentPane().add(productNameEditInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 20, 250, -1));

        jLabel9.setText("Category:");
        editProductDialog.getContentPane().add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 100, -1, -1));

        categoryEditComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        editProductDialog.getContentPane().add(categoryEditComboBox, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 100, 250, -1));

        jLabel10.setText("Description:");
        editProductDialog.getContentPane().add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 60, -1, -1));

        descriptionEditInput.setText("jTextField1");
        editProductDialog.getContentPane().add(descriptionEditInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 60, 290, -1));

        jLabel11.setText("Supplier:");
        editProductDialog.getContentPane().add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 140, -1, -1));

        supplierEditComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        editProductDialog.getContentPane().add(supplierEditComboBox, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 140, 250, -1));

        jLabel12.setText("Unit:");
        editProductDialog.getContentPane().add(jLabel12, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 180, -1, -1));

        unitEditInput.setText("jTextField1");
        editProductDialog.getContentPane().add(unitEditInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 180, 250, -1));

        jLabel13.setText("Physical Count:");
        editProductDialog.getContentPane().add(jLabel13, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 220, -1, -1));

        quantityEditInput.setText("jLabel14");
        editProductDialog.getContentPane().add(quantityEditInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 220, -1, -1));

        jLabel15.setText("Reorder Quantity Level");
        editProductDialog.getContentPane().add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 250, -1, -1));
        editProductDialog.getContentPane().add(jSpinner1, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 250, 90, -1));

        jButton1.setText("Cancel");
        editProductDialog.getContentPane().add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(360, 290, -1, -1));

        jButton3.setText("jButton3");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        editProductDialog.getContentPane().add(jButton3, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 290, -1, -1));

        productIDEditInput.setText("jLabel17");
        editProductDialog.getContentPane().add(productIDEditInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(500, 20, -1, -1));

        setMaximumSize(new java.awt.Dimension(814, 592));
        setPreferredSize(new java.awt.Dimension(814, 592));
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setText("Product Name:");
        jPanel1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 55, -1, -1));

        jLabel2.setText("Description:");
        jPanel1.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 81, -1, -1));

        productNameInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                productNameInputActionPerformed(evt);
            }
        });
        jPanel1.add(productNameInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 50, 614, -1));

        productDescriptionInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                productDescriptionInputActionPerformed(evt);
            }
        });
        jPanel1.add(productDescriptionInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 80, 614, -1));

        jLabel3.setText("Quantity:");
        jPanel1.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 122, -1, -1));
        jPanel1.add(quantityInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 120, 161, -1));

        jLabel4.setText("Re- order Level:");
        jPanel1.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 270, -1, -1));

        jLabel5.setText("Unit:");
        jPanel1.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 160, -1, -1));
        jPanel1.add(unitInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(100, 160, 161, -1));

        jLabel6.setText("Category:");
        jPanel1.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 230, -1, -1));

        categoryComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Accessories" }));
        categoryComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                categoryComboBoxActionPerformed(evt);
            }
        });
        jPanel1.add(categoryComboBox, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 230, 150, -1));
        updateCategoryComboBox();

        jLabel7.setText("Supplier:");
        jPanel1.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 198, -1, -1));

        AddProductButton.setText("Add New Product");
        AddProductButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                AddProductButtonActionPerformed(evt);
            }
        });
        jPanel1.add(AddProductButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 370, -1, -1));

        supplierComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        supplierComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                supplierComboBoxActionPerformed(evt);
            }
        });
        jPanel1.add(supplierComboBox, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 200, 150, -1));
        updateSupplierComboBox();
        jPanel1.add(filler1, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 130, -1, -1));

        reorderQuantityLevelSpinner.setEnabled(false);
        jPanel1.add(reorderQuantityLevelSpinner, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 260, 60, 30));
        reorderQuantityLevelSpinner.setVisible(false);

        reorderLevelEnableRadioButton.setText("Enabled");
        reorderLevelEnableRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                reorderLevelEnableRadioButtonActionPerformed(evt);
            }
        });
        jPanel1.add(reorderLevelEnableRadioButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 290, -1, -1));
        reorderQuantityLevelGroup.add(reorderLevelEnableRadioButton);
        reorderLevelDisableRadioButton.setSelected(true);

        reorderLevelDisableRadioButton.setText("Disabled");
        reorderLevelDisableRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                reorderLevelDisableRadioButtonActionPerformed(evt);
            }
        });
        jPanel1.add(reorderLevelDisableRadioButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 320, -1, -1));
        reorderQuantityLevelGroup.add(reorderLevelDisableRadioButton);

        jTabbedPane1.addTab("Add Product", jPanel1);

        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        adminProductsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "", "Product Name", "Description", "Supplier", "Unit", "Physical Count", "Reorder Quantity Level"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Object.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Object.class, java.lang.Object.class, java.lang.Object.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        adminProductsTable.setName(""); // NOI18N
        jScrollPane1.setViewportView(adminProductsTable);
        productController.updateTableContents();
        adminProductsTable.getColumnModel().getColumn(0).setMaxWidth(0);
        adminProductsTable.getColumnModel().getColumn(0).setMinWidth(0);
        adminProductsTable.getColumnModel().getColumn(0).setPreferredWidth(0);

        jPanel2.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 5, 795, 410));

        editProductButton.setText("Edit Product");
        editProductButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editProductButtonActionPerformed(evt);
            }
        });
        jPanel2.add(editProductButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(580, 430, -1, -1));

        deleteProductButton.setText("Delete Product");
        jPanel2.add(deleteProductButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(700, 430, -1, -1));

        jTabbedPane1.addTab("Edit Product", jPanel2);

        jPanel3.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        categoryTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "type_id", "Category Name"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane2.setViewportView(categoryTable);
        categoryTable.getColumnModel().getColumn(0).setMaxWidth(0);
        categoryTable.getColumnModel().getColumn(0).setMinWidth(0);
        categoryTable.getColumnModel().getColumn(0).setPreferredWidth(0);

        jPanel3.add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 140, 600, 230));

        jLabel14.setText("Category List");
        jPanel3.add(jLabel14, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 120, -1, -1));

        jLabel16.setText("Category Name:");
        jPanel3.add(jLabel16, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 60, -1, -1));
        jPanel3.add(categoryNameInput, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 60, 500, -1));

        jButton2.setText("Edit Category");
        jPanel3.add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 390, -1, -1));

        jButton4.setText("Delete Category");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jPanel3.add(jButton4, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 390, -1, -1));

        jButton5.setText("Add to Category List");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });
        jPanel3.add(jButton5, new org.netbeans.lib.awtextra.AbsoluteConstraints(490, 90, -1, -1));

        jTabbedPane1.addTab("Add/Edit Category", jPanel3);

        add(jTabbedPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 820, 590));
    }// </editor-fold>//GEN-END:initComponents

    ButtonGroup reorderQuantityLevelGroup = new ButtonGroup();
    private void productNameInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_productNameInputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_productNameInputActionPerformed

    private void supplierComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_supplierComboBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_supplierComboBoxActionPerformed

    private void categoryComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_categoryComboBoxActionPerformed
        // TODO add your handling code here:
        System.out.println("Selected value = " +  evt.getActionCommand());
    }//GEN-LAST:event_categoryComboBoxActionPerformed

    private void AddProductButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_AddProductButtonActionPerformed
        productController.addProduct(productNameInput, productDescriptionInput, quantityInput, unitInput, supplierComboBox, categoryComboBox, reorderQuantityLevelSpinner);    
        productController.updateTableContents();

    }//GEN-LAST:event_AddProductButtonActionPerformed

    private void reorderLevelEnableRadioButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_reorderLevelEnableRadioButtonActionPerformed
        if(reorderLevelEnableRadioButton.isSelected()){
            reorderQuantityLevelSpinner.setEnabled(true);
            reorderQuantityLevelSpinner.setVisible(true);
        }
    }//GEN-LAST:event_reorderLevelEnableRadioButtonActionPerformed

    private void reorderLevelDisableRadioButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_reorderLevelDisableRadioButtonActionPerformed
        if(reorderLevelDisableRadioButton.isSelected()){
            reorderQuantityLevelSpinner.setEnabled(false);
            reorderQuantityLevelSpinner.setVisible(false);
            reorderQuantityLevelSpinner.setValue(0);
        }
    }//GEN-LAST:event_reorderLevelDisableRadioButtonActionPerformed

    private void editProductButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editProductButtonActionPerformed




        PreparedStatement selectStatement = null;
        try{
        
        String host = "jdbc:mysql://localhost:3306/inventory";
        String uName = "root";
        String uPass = "";
        
        
        Connection con = DriverManager.getConnection(host,uName, uPass);
        
        String selectString = "SELECT product_id, name, description, "
                + "type_name, supplier_name, Unit, physical_count AS Quantity, "
                + "reorder_quantity FROM product JOIN type USING(type_id) JOIN "
                + "supplier using(supplier_id) WHERE product_ID = ? LIMIT 1;";
        selectStatement = con.prepareStatement(selectString);
        Integer selectedRow = adminProductsTable.getSelectedRow();
        String result = (String) adminProductsTable.getModel().getValueAt(selectedRow, 0);
        selectStatement.setString(1,result);
        ResultSet rs = selectStatement.executeQuery();
        
            while(rs.next()){
                String productID = rs.getString(1);
                String productName = rs.getString(2);
                String description = rs.getString(3);
                String typeName = rs.getString(4);
                String supplierName = rs.getString(5);
                String unit = rs.getString(6);
                String physicalCount = rs.getString(7);
                
                String customerContact = rs.getString(2);
                
                productIDEditInput.setText(productID);
                productNameEditInput.setText(productName);
                descriptionEditInput.setText(description);
                
            }
            productIDEditInput.setText(result);
        editProductDialog.setVisible(true);
        }
        catch ( SQLException err ){
            System.out.println( err.getMessage ());
            System.out.print("FAIL");
        }
    }//GEN-LAST:event_editProductButtonActionPerformed

    private void productNameEditInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_productNameEditInputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_productNameEditInputActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        PreparedStatement insertStatement = null;
        PreparedStatement selectStatement = null;
            try{
            Connection con = DriverManager.getConnection(host,uName, uPass);
 
            String insertString = "INSERT INTO type ( type_name) VALUES(?)";
            insertStatement = con.prepareStatement(insertString);
            
            insertStatement.setString(1, categoryNameInput.getText());
            insertStatement.executeUpdate();

            JOptionPane.showMessageDialog(null, categoryNameInput.getText() + " added to Category list.");
            categoryNameInput.setText("");

            updateCategoryTable();
            }
            catch ( SQLException err ){
                System.out.println( err.getMessage ());
                System.out.print("FAIL");
            }
        
    
    }//GEN-LAST:event_jButton5ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        PreparedStatement selectStatement = null;
        try{
        Connection con = DriverManager.getConnection(host,uName, uPass);
        
        String selectString = "SELECT type_name FROM type WHERE type_id = ? LIMIT 1";
        selectStatement = con.prepareStatement(selectString);
        String selectedRow = (String) categoryTable.getValueAt(categoryTable.getSelectedRow(),0);
        selectStatement.setString(1,selectedRow);
        ResultSet rs = selectStatement.executeQuery();
        
            while(rs.next()){
                String customerName = rs.getString(1);
                
                PreparedStatement deleteStatement = null;
                try{
                    int reply = JOptionPane.showConfirmDialog(
                    null,
                    "Are you sure of deleting " + customerName + " from the Category List?" ,
                    "Warning message",
                    JOptionPane.YES_NO_OPTION);
                    
                    if(reply == JOptionPane.YES_OPTION){
                        String deleteString = "DELETE FROM type WHERE type_id = ?";
                        deleteStatement = con.prepareStatement(deleteString);
                        deleteStatement.setString(1, selectedRow);
                        deleteStatement.executeUpdate();
                        updateCategoryTable();
                    }
                }
                catch ( SQLException err ){
                    System.out.println( err.getMessage ());
                    System.out.print("FAIL");
                }

            }
        
        }
        catch ( SQLException err ){
            System.out.println( err.getMessage ());
            System.out.print("FAIL");
        }
    }//GEN-LAST:event_jButton4ActionPerformed

    private void productDescriptionInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_productDescriptionInputActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_productDescriptionInputActionPerformed
    private static void deleteAllRows(final JTable table) {
        DefaultTableModel model = (DefaultTableModel) table.getModel();
        for(int row =0; row < model.getRowCount(); ) {
            model.removeRow(0);
        
        }
    }
    
    public static void updateAdminProductsTable(){
        deleteAllRows(adminProductsTable);
        DefaultTableModel model = (DefaultTableModel) adminProductsTable.getModel();

        for(Product product: Main.productList){
            model.addRow(new Object[]{product.getProductID(), product.getName(), product.getDescription(), product.getSupplierName(), product.getUnit(), product.getPhysicalCount(), product.getReorderQuantityLevel()});
        }
       
    }
    
    public void updateSupplierComboBox(){
            supplierComboBox.removeAllItems();
            PreparedStatement selectStatement = null;
            try{
            Connection con = DriverManager.getConnection(host,uName, uPass);
            String selectString = "SELECT supplier_name, supplier_id FROM supplier ORDER BY 1 ASC";
            selectStatement = con.prepareStatement(selectString);
            ResultSet rs = selectStatement.executeQuery();
                while(rs.next()){
                    String supplierName = rs.getString(1);
                    String supplierID = rs.getString(2);
                    
                    String supplier[] = {supplierName, supplierID};
                    
                    supplierComboBox.addItem(supplierName);
                }

            }
            catch ( SQLException err ){
                System.out.println( err.getMessage ());
                System.out.print("FAIL");
            }
    }
    
    public static void updateCategoryComboBox(){
            categoryComboBox.removeAllItems();
            PreparedStatement selectStatement = null;
            try{
            Connection con = DriverManager.getConnection(host,uName, uPass);
            String selectString = "SELECT type_name FROM type ORDER By 1 ASC";
            selectStatement = con.prepareStatement(selectString);
            ResultSet rs = selectStatement.executeQuery();
                while(rs.next()){
                    String categoryName = rs.getString(1);
                    categoryComboBox.addItem(categoryName);
                }
            }
            catch ( SQLException err ){
                System.out.println( err.getMessage ());
                System.out.print("FAIL");
            }
    }
    protected static void updateCategoryTable(){
        
        PreparedStatement selectStatement = null;
        DefaultTableModel model = (DefaultTableModel) categoryTable.getModel();
        deleteAllRows(categoryTable);
       
        try{
            Connection con = DriverManager.getConnection(host,uName, uPass);
            String selectString = "SELECT type_id, type_name FROM type ORDER By 1 ASC";
            selectStatement = con.prepareStatement(selectString);
            ResultSet rs = selectStatement.executeQuery();
                while(rs.next()){
                    String typeID = rs.getString(1);
                    String typeName = rs.getString(2);

                    model.addRow(new Object[]{typeID, typeName});
                }
            Main.updateCategoryComboBox();
            updateCategoryComboBox();
            }
            catch ( SQLException err ){
                System.out.println( err.getMessage ());
                System.out.print("FAIL");
            }
        
        
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton AddProductButton;
    private static javax.swing.JTable adminProductsTable;
    private static javax.swing.JComboBox categoryComboBox;
    private javax.swing.JComboBox categoryEditComboBox;
    private javax.swing.JTextField categoryNameInput;
    private static javax.swing.JTable categoryTable;
    private javax.swing.JButton deleteProductButton;
    private javax.swing.JTextField descriptionEditInput;
    private javax.swing.JButton editProductButton;
    private javax.swing.JDialog editProductDialog;
    private javax.swing.Box.Filler filler1;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSpinner jSpinner1;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextField productDescriptionInput;
    private javax.swing.JLabel productIDEditInput;
    private javax.swing.JTextField productNameEditInput;
    private javax.swing.JTextField productNameInput;
    private javax.swing.JLabel quantityEditInput;
    private javax.swing.JTextField quantityInput;
    private javax.swing.JRadioButton reorderLevelDisableRadioButton;
    private javax.swing.JRadioButton reorderLevelEnableRadioButton;
    private javax.swing.JSpinner reorderQuantityLevelSpinner;
    private javax.swing.JComboBox supplierComboBox;
    private javax.swing.JComboBox supplierEditComboBox;
    private javax.swing.JTextField unitEditInput;
    private javax.swing.JTextField unitInput;
    // End of variables declaration//GEN-END:variables
}
